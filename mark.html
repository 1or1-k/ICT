<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>お気に入り問題集</title>
    <style>
        /* スタイルは前回と同じ */
        .category {
            margin-bottom: 20px;
        }
        .favorite {
            color: gold;
            cursor: pointer;
        }
        /* 他のスタイルは省略 */
    </style>
</head>
<body>
    <div class="content">
        <div class="left-content">
            <h1>お気に入り問題集</h1>
            <div id="favorites-container"></div>
            <button onclick="location.href='mondai.html'">問題集に戻る</button>
　　　　　　　<button onclick="location.href='bookmarkmatome.html'">戻る</button>
        </div>

        <!-- 右側のサイドバーは変更なし -->
        <div class="sidebar">
            <!-- サイドバーの内容は変更なし -->
        </div>
    </div>

    <script>
        const questions = [
            { id: 1, text: "日本の所得税の最高税率は何％ですか？", category: "所得税について" },
            { id: 2, text: "所得税の課税対象となる所得の種類はどれですか？", category: "所得税について" },
            { id: 7, text: "所得税の確定申告が必要となるのはどのような場合ですか？", category: "所得税について" },
            { id: 3, text: "固定資産税はどのような資産に対して課されますか？", category: "固定資産税について" },
            { id: 6, text: "固定資産税の納税義務者は誰ですか？", category: "固定資産税について" },
            { id: 8, text: "贈与税の基礎控除額は年間いくらですか？", category: "贈与税について" },
            { id: 9, text: "贈与税が課されるのはどのような場合ですか？", category: "贈与税について" },
            { id: 4, text: "住民税はどのように計算されますか？", category: "その他" },
            { id: 5, text: "相続税の基礎控除額はどのように計算されますか？", category: "その他" }
        ];

          function loadFavorites() {
            const storedFavorites = localStorage.getItem('questionFavorites');
            return storedFavorites ? JSON.parse(storedFavorites) : [];
        }

        function renderFavorites() {
            const favoritesContainer = document.getElementById('favorites-container');
            const favorites = loadFavorites();
            
            if (favorites.length === 0) {
                favoritesContainer.innerHTML = '<p>お気に入りに登録された問題はありません。</p>';
                return;
            }

            let html = '<div class="category"><h2>お気に入り問題</h2><ul>';
            
            favorites.forEach(favoriteId => {
                const question = questions.find(q => q.id === favoriteId);
                if (question) {
                    html += `
                        <li>
                            <button onclick="location.href='question${question.id}.html'">${question.text}</button>
                            <span class="favorite" onclick="toggleFavorite(${question.id})">★</span>
                        </li>
                    `;
                }
            });
            
            html += '</ul></div>';
            favoritesContainer.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', function() {
            renderFavorites();
        });
    </script>
</body>
</html>
